<!DOCTYPE html>
<html>
<head>
<title>West Bank: Routine at D7C5</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../westbank.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="55070.html">D71E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#55237">Map</a></td>
<td class="next">
Next: <a href="55457.html">D8A1</a>
</td>
</tr>
</table>
<div class="description">D7C5: Bowie logic.</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Handles all the logic around drawing Bowie and handling his "special" logic.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55237"></span>
<div class="comments">
<div class="paragraph">
Bowie state variables/ flags.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55237"></span>D7C5</td>
<td class="instruction">DEFB $01</td>
<td class="comment-1" rowspan="1">If this is $00 then Bowie is "good". If this is $01 then he is "bad" (i.e. there's a bomb under his hat).</td>
</tr>
<tr>
<td class="address-1"><span id="55238"></span>D7C6</td>
<td class="instruction">DEFB $22</td>
<td class="comment-1" rowspan="1">The current character frame index reference.</td>
</tr>
<tr>
<td class="address-1"><span id="55239"></span>D7C7</td>
<td class="instruction">DEFB $06</td>
<td class="comment-1" rowspan="1">The current character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55240"></span>D7C8</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 1.</td>
</tr>
<tr>
<td class="address-1"><span id="55241"></span>D7C9</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 2.</td>
</tr>
<tr>
<td class="address-1"><span id="55242"></span>D7CA</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 3.</td>
</tr>
<tr>
<td class="address-1"><span id="55243"></span>D7CB</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 4.</td>
</tr>
<tr>
<td class="address-1"><span id="55244"></span>D7CC</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 5.</td>
</tr>
<tr>
<td class="address-1"><span id="55245"></span>D7CD</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 6.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55246"></span>
<div class="comments">
<div class="paragraph">
This routine looks at the current character state and routes to the correct subroutine.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55246"></span>D7CE</td>
<td class="instruction">LD HL,$D7C7</td>
<td class="comment-1" rowspan="2"><span class="register">A</span>=<a href="55237.html#55239">D7C7</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55249"></span>D7D1</td>
<td class="instruction">LD A,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="55250"></span>D7D2</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="11">Work out which routine to jump to based on the current state. <table class="default">
<tr>
<th colspan="1" rowspan="1"><span class="register">A</span></th>
<th colspan="1" rowspan="1">Routine</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$01</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55267">D7E3</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$02</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55282">D7F2</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$03</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55297">D801</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$04</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55312">D810</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$05</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55340">D82C</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$06</td>
<td class="centre" colspan="1" rowspan="1"><a href="55237.html#55356">D83C</a></td>
</tr>
</table></td>
</tr>
<tr>
<td class="address-1"><span id="55251"></span>D7D3</td>
<td class="instruction">JR Z,$D7E3</td>
</tr>
<tr>
<td class="address-1"><span id="55253"></span>D7D5</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55254"></span>D7D6</td>
<td class="instruction">JR Z,$D7F2</td>
</tr>
<tr>
<td class="address-1"><span id="55256"></span>D7D8</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55257"></span>D7D9</td>
<td class="instruction">JR Z,$D801</td>
</tr>
<tr>
<td class="address-1"><span id="55259"></span>D7DB</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55260"></span>D7DC</td>
<td class="instruction">JR Z,$D810</td>
</tr>
<tr>
<td class="address-1"><span id="55262"></span>D7DE</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55263"></span>D7DF</td>
<td class="instruction">JR Z,$D82C</td>
</tr>
<tr>
<td class="address-1"><span id="55265"></span>D7E1</td>
<td class="instruction">JR $D83C</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55267"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 1 countdown/ transition to door frame 2.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55267"></span>D7E3</td>
<td class="instruction">LD A,($D7C8)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55240">D7C8</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55270"></span>D7E6</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55271"></span>D7E7</td>
<td class="instruction">LD ($D7C8),A</td>
</tr>
<tr>
<td class="address-1"><span id="55274"></span>D7EA</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55275"></span>D7EB</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55276"></span>D7EC</td>
<td class="instruction">LD A,$1B</td>
<td class="comment-1" rowspan="3">Pass character index <a href="40880.html">$1B</a> to <a href="54884.html#54993">D6D1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55278"></span>D7EE</td>
<td class="instruction">CALL <a href="54884.html#54993">$D6D1</a></td>
</tr>
<tr>
<td class="address-1"><span id="55281"></span>D7F1</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55282"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 2 countdown/ transition to door frame 3.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55282"></span>D7F2</td>
<td class="instruction">LD A,($D7C9)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55241">D7C9</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55285"></span>D7F5</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55286"></span>D7F6</td>
<td class="instruction">LD ($D7C9),A</td>
</tr>
<tr>
<td class="address-1"><span id="55289"></span>D7F9</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55290"></span>D7FA</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55291"></span>D7FB</td>
<td class="instruction">LD A,$1B</td>
<td class="comment-1" rowspan="3">Pass character index <a href="40880.html">$1B</a> to <a href="54884.html#55007">D6DF</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55293"></span>D7FD</td>
<td class="instruction">CALL <a href="54884.html#55007">$D6DF</a></td>
</tr>
<tr>
<td class="address-1"><span id="55296"></span>D800</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55297"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 3 countdown/ transition to door frame 4.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55297"></span>D801</td>
<td class="instruction">LD A,($D7CA)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55242">D7CA</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55300"></span>D804</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55301"></span>D805</td>
<td class="instruction">LD ($D7CA),A</td>
</tr>
<tr>
<td class="address-1"><span id="55304"></span>D808</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55305"></span>D809</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55306"></span>D80A</td>
<td class="instruction">LD A,$1B</td>
<td class="comment-1" rowspan="3">Pass character frame index <a href="40880.html">$1B</a> to <a href="54884.html#55021">D6ED</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55308"></span>D80C</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
</tr>
<tr>
<td class="address-1"><span id="55311"></span>D80F</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55312"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 4 countdown/ transition to door frame 3.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55312"></span>D810</td>
<td class="instruction">LD E,(IX+$04)</td>
<td class="comment-1" rowspan="3">Call <a href="54691.html">D5A3</a> with a callback to either <a href="55237.html#55371">D84B</a> or <a href="55237.html#55389">D85D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55315"></span>D813</td>
<td class="instruction">LD D,(IX+$05)</td>
</tr>
<tr>
<td class="address-1"><span id="55318"></span>D816</td>
<td class="instruction">CALL <a href="54691.html">$D5A3</a></td>
</tr>
<tr>
<td class="address-1"><span id="55321"></span>D819</td>
<td class="instruction">LD A,($D7CB)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55243">D7CB</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55324"></span>D81C</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55325"></span>D81D</td>
<td class="instruction">LD ($D7CB),A</td>
</tr>
<tr>
<td class="address-1"><span id="55328"></span>D820</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-2"><span id="55329"></span>D821</td>
<td class="instruction">LD HL,$D7C7</td>
<td class="comment-1" rowspan="2">Move onto next character state (<a href="55237.html#55239">D7C7</a>).</td>
</tr>
<tr>
<td class="address-1"><span id="55332"></span>D824</td>
<td class="instruction">INC (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="55333"></span>D825</td>
<td class="instruction">LD A,($D7C6)</td>
<td class="comment-1" rowspan="3">Load the character frame index from <a href="55237.html#55238">D7C6</a>, pass it to <a href="54884.html#55007">D6DF</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55336"></span>D828</td>
<td class="instruction">CALL <a href="54884.html#55007">$D6DF</a></td>
</tr>
<tr>
<td class="address-1"><span id="55339"></span>D82B</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55340"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 3 countdown/ transition to door frame 2.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55340"></span>D82C</td>
<td class="instruction">LD A,($D7CC)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55244">D7CC</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55343"></span>D82F</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55344"></span>D830</td>
<td class="instruction">LD ($D7CC),A</td>
</tr>
<tr>
<td class="address-1"><span id="55347"></span>D833</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55348"></span>D834</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55349"></span>D835</td>
<td class="instruction">LD A,($D7C6)</td>
<td class="comment-1" rowspan="3">Load the character frame index from <a href="55237.html#55238">D7C6</a>, pass it to <a href="54884.html#54993">D6D1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55352"></span>D838</td>
<td class="instruction">CALL <a href="54884.html#54993">$D6D1</a></td>
</tr>
<tr>
<td class="address-1"><span id="55355"></span>D83B</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55356"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 2 countdown/ transition to door frame 1.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55356"></span>D83C</td>
<td class="instruction">LD A,($D7CD)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55237.html#55245">D7CD</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55359"></span>D83F</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55360"></span>D840</td>
<td class="instruction">LD ($D7CD),A</td>
</tr>
<tr>
<td class="address-1"><span id="55363"></span>D843</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55364"></span>D844</td>
<td class="instruction">CALL <a href="54884.html">$D664</a></td>
<td class="comment-1" rowspan="1">Call <a href="54884.html">D664</a> (i.e. no character/ door is shut).</td>
</tr>
<tr>
<td class="address-1"><span id="55367"></span>D847</td>
<td class="instruction">CALL <a href="55457.html">$D8A1</a></td>
<td class="comment-1" rowspan="1">Call <a href="55457.html">D8A1</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55370"></span>D84A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55371"></span>
<div class="comments">
<div class="paragraph">
Handles marking this as something shootable.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="55371"></span>D84B</td>
<td class="instruction">LD (IX+$06),$05</td>
<td class="comment-1" rowspan="2">Writes $05 to <span class="register">IX</span>+$06 and $01 to <span class="register">IX</span>+$07.</td>
</tr>
<tr>
<td class="address-1"><span id="55375"></span>D84F</td>
<td class="instruction">LD (IX+$07),$01</td>
</tr>
<tr>
<td class="address-1"><span id="55379"></span>D853</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="3">Writes $01 to <span class="register">IX</span>+$08 and <a href="53648.html">D190</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55381"></span>D855</td>
<td class="instruction">LD (IX+$08),A</td>
</tr>
<tr>
<td class="address-1"><span id="55384"></span>D858</td>
<td class="instruction">LD ($D190),A</td>
</tr>
<tr>
<td class="address-1"><span id="55387"></span>D85B</td>
<td class="instruction">JR $D821</td>
<td class="comment-1" rowspan="1">Jump to <a href="55237.html#55329">D821</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55389"></span>
<div class="comments">
<div class="paragraph">
Handles marking this as something unshootable.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="55389"></span>D85D</td>
<td class="instruction">LD A,$05</td>
<td class="comment-1" rowspan="3">Writes $05 to <a href="53967.html#54014">D2FE</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55391"></span>D85F</td>
<td class="instruction">LD ($D2FE),A</td>
</tr>
<tr>
<td class="address-1"><span id="55394"></span>D862</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55395"></span>
<div class="comments">
<div class="paragraph">
Handles both shooting the hats off Bowie's head, and checking/ routing on the last frame for the "surprise".
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="55395"></span>D863</td>
<td class="instruction">LD HL,$D7C6</td>
<td class="comment-1" rowspan="2"><span class="register">A</span>=<a href="55237.html#55238">D7C6</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55398"></span>D866</td>
<td class="instruction">LD A,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="55399"></span>D867</td>
<td class="instruction">CP $21</td>
<td class="comment-1" rowspan="1">Is it character frame reference (<a href="40880.html#44048">1 hat | $21</a>)?</td>
</tr>
<tr>
<td class="address-1"><span id="55401"></span>D869</td>
<td class="instruction">LD (IX+$06),$01</td>
<td class="comment-1" rowspan="1">Writes $01 to <span class="register">IX</span>+$06.</td>
</tr>
<tr>
<td class="address-1"><span id="55405"></span>D86D</td>
<td class="instruction">JR NC,$D875</td>
<td class="comment-1" rowspan="1">If Bowie is on the last frame then jump forward to <a href="55237.html#55413">D875</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55407"></span>D86F</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="4">Else update <a href="55237.html#55238">D7C6</a> to point at the next frame, call <a href="54884.html#55021">D6ED</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55408"></span>D870</td>
<td class="instruction">LD (HL),A</td>
</tr>
<tr>
<td class="address-1"><span id="55409"></span>D871</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
</tr>
<tr>
<td class="address-1"><span id="55412"></span>D874</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55413"></span>
<div class="comments">
<div class="paragraph">
Checks the "good/ bad" flag and routes the gameplay accordingly.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55413"></span>D875</td>
<td class="instruction">LD A,($D7C5)</td>
<td class="comment-1" rowspan="3">If <a href="55237.html">D7C5</a> is zero jump to <a href="55237.html#55421">D87D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55416"></span>D878</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="55417"></span>D879</td>
<td class="instruction">JR Z,$D87D</td>
</tr>
<tr>
<td class="address-1"><span id="55419"></span>D87B</td>
<td class="instruction">JR $D88F</td>
<td class="comment-1" rowspan="1">Jump to <a href="55237.html#55439">D88F</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55421"></span>
<div class="comments">
<div class="paragraph">
Handle displaying cash character frame.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55421"></span>D87D</td>
<td class="instruction">LD A,$23</td>
<td class="comment-1" rowspan="3">Writes character frame reference <a href="40880.html#45104">cash | $23</a> to <a href="55237.html#55238">D7C6</a>, and pass it to <a href="54884.html#55021">D6ED</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55423"></span>D87F</td>
<td class="instruction">LD ($D7C6),A</td>
</tr>
<tr>
<td class="address-1"><span id="55426"></span>D882</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
</tr>
<tr>
<td class="address-1"><span id="55429"></span>D885</td>
<td class="instruction">LD HL,$D84B</td>
<td class="comment-1" rowspan="3">Writes <a href="55237.html#55371">D84B</a> to the current door flags (e.g. <a href="53605.html#53609">D169</a>, <a href="53619.html#53623">D177</a> or <a href="53633.html#53637">D185</a>).</td>
</tr>
<tr>
<td class="address-1"><span id="55432"></span>D888</td>
<td class="instruction">LD (IX+$04),L</td>
</tr>
<tr>
<td class="address-1"><span id="55435"></span>D88B</td>
<td class="instruction">LD (IX+$05),H</td>
</tr>
<tr>
<td class="address-1"><span id="55438"></span>D88E</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55439"></span>
<div class="comments">
<div class="paragraph">
Handle displaying bomb character frame.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55439"></span>D88F</td>
<td class="instruction">LD A,$22</td>
<td class="comment-1" rowspan="3">Writes character frame reference <a href="40880.html#44576">bomb | $22</a> to <a href="55237.html#55238">D7C6</a>, and pass it to <a href="54884.html#55021">D6ED</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55441"></span>D891</td>
<td class="instruction">LD ($D7C6),A</td>
</tr>
<tr>
<td class="address-1"><span id="55444"></span>D894</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
</tr>
<tr>
<td class="address-1"><span id="55447"></span>D897</td>
<td class="instruction">LD HL,$D85D</td>
<td class="comment-1" rowspan="3">Writes <a href="55237.html#55389">D85D</a> to the current door flags (e.g. <a href="53605.html#53609">D169</a>, <a href="53619.html#53623">D177</a> or <a href="53633.html#53637">D185</a>).</td>
</tr>
<tr>
<td class="address-1"><span id="55450"></span>D89A</td>
<td class="instruction">LD (IX+$04),L</td>
</tr>
<tr>
<td class="address-1"><span id="55453"></span>D89D</td>
<td class="instruction">LD (IX+$05),H</td>
</tr>
<tr>
<td class="address-1"><span id="55456"></span>D8A0</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="55070.html">D71E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#55237">Map</a></td>
<td class="next">
Next: <a href="55457.html">D8A1</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; DINAMIC SOFTWARE 1985</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.4.</div>
</footer>
</body>
</html>