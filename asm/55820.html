<!DOCTYPE html>
<html>
<head>
<title>West Bank: Routine at DA0C</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../westbank.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="55525.html">D8E5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#55820">Map</a></td>
<td class="next">
Next: <a href="56047.html">DAEF</a>
</td>
</tr>
</table>
<div class="description">DA0C: Drawing Bandit Logic.</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55820"></span>
<div class="comments">
<div class="paragraph">
Character state variables/ flags.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55820"></span>DA0C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="55821"></span>DA0D</td>
<td class="instruction">DEFB $08</td>
<td class="comment-1" rowspan="1">Character frame index 1.</td>
</tr>
<tr>
<td class="address-1"><span id="55822"></span>DA0E</td>
<td class="instruction">DEFB $08</td>
<td class="comment-1" rowspan="1">Character frame index 2.</td>
</tr>
<tr>
<td class="address-1"><span id="55823"></span>DA0F</td>
<td class="instruction">DEFB $09</td>
<td class="comment-1" rowspan="1">Character frame index 3.</td>
</tr>
<tr>
<td class="address-1"><span id="55824"></span>DA10</td>
<td class="instruction">DEFB $07</td>
<td class="comment-1" rowspan="1">Character frame index 4.</td>
</tr>
<tr>
<td class="address-1"><span id="55825"></span>DA11</td>
<td class="instruction">DEFB $05</td>
<td class="comment-1" rowspan="1">The current character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55826"></span>DA12</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 1.</td>
</tr>
<tr>
<td class="address-1"><span id="55827"></span>DA13</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 2.</td>
</tr>
<tr>
<td class="address-1"><span id="55828"></span>DA14</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 3.</td>
</tr>
<tr>
<td class="address-1"><span id="55829"></span>DA15</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 4.</td>
</tr>
<tr>
<td class="address-1"><span id="55830"></span>DA16</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Character timer 5.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55831"></span>
<div class="comments">
<div class="paragraph">
This routine looks at the current character state and routes to the correct subroutine.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55831"></span>DA17</td>
<td class="instruction">LD HL,$DA11</td>
<td class="comment-1" rowspan="2"><span class="register">A</span>=<a href="55820.html#55825">DA11</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55834"></span>DA1A</td>
<td class="instruction">LD A,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="55835"></span>DA1B</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="9">Work out which routine to use based on the current state. <table class="default">
<tr>
<th colspan="1" rowspan="1"><span class="register">A</span></th>
<th colspan="1" rowspan="1">Routine</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$01</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55849">DA29</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$02</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55865">DA39</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$03</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55881">DA49</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$04</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55897">DA59</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$05</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55919">DA6F</a></td>
</tr>
</table></td>
</tr>
<tr>
<td class="address-1"><span id="55836"></span>DA1C</td>
<td class="instruction">JR Z,$DA29</td>
</tr>
<tr>
<td class="address-1"><span id="55838"></span>DA1E</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55839"></span>DA1F</td>
<td class="instruction">JR Z,$DA39</td>
</tr>
<tr>
<td class="address-1"><span id="55841"></span>DA21</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55842"></span>DA22</td>
<td class="instruction">JR Z,$DA49</td>
</tr>
<tr>
<td class="address-1"><span id="55844"></span>DA24</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55845"></span>DA25</td>
<td class="instruction">JR Z,$DA59</td>
</tr>
<tr>
<td class="address-1"><span id="55847"></span>DA27</td>
<td class="instruction">JR $DA6F</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55849"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 1 countdown/ transition to door frame 2.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55849"></span>DA29</td>
<td class="instruction">LD A,($DA12)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55826">DA12</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55852"></span>DA2C</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55853"></span>DA2D</td>
<td class="instruction">LD ($DA12),A</td>
</tr>
<tr>
<td class="address-1"><span id="55856"></span>DA30</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55857"></span>DA31</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55858"></span>DA32</td>
<td class="instruction">LD A,($DA0D)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55821">DA0D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55861"></span>DA35</td>
<td class="instruction">CALL <a href="54884.html#54993">$D6D1</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#54993">D6D1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55864"></span>DA38</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55865"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 2 countdown/ transition to door frame 3.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55865"></span>DA39</td>
<td class="instruction">LD A,($DA13)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55827">DA13</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55868"></span>DA3C</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55869"></span>DA3D</td>
<td class="instruction">LD ($DA13),A</td>
</tr>
<tr>
<td class="address-1"><span id="55872"></span>DA40</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55873"></span>DA41</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55874"></span>DA42</td>
<td class="instruction">LD A,($DA0D)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55821">DA0D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55877"></span>DA45</td>
<td class="instruction">CALL <a href="54884.html#55007">$D6DF</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#55007">D6DF</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55880"></span>DA48</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55881"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 3 countdown/ transition to door frame 4.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55881"></span>DA49</td>
<td class="instruction">LD A,($DA14)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55828">DA14</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55884"></span>DA4C</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55885"></span>DA4D</td>
<td class="instruction">LD ($DA14),A</td>
</tr>
<tr>
<td class="address-1"><span id="55888"></span>DA50</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55889"></span>DA51</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55890"></span>DA52</td>
<td class="instruction">LD A,($DA0D)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55821">DA0D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55893"></span>DA55</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#55021">D6ED</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55896"></span>DA58</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55897"></span>
<div class="comments">
<div class="paragraph">
Handles state countdown.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55897"></span>DA59</td>
<td class="instruction">LD DE,$D037</td>
<td class="comment-1" rowspan="2">Call <a href="54691.html">D5A3</a> with a callback to <a href="53303.html">D037</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55900"></span>DA5C</td>
<td class="instruction">CALL <a href="54691.html">$D5A3</a></td>
</tr>
<tr>
<td class="address-1"><span id="55903"></span>DA5F</td>
<td class="instruction">LD A,($DA15)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55829">DA15</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55906"></span>DA62</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55907"></span>DA63</td>
<td class="instruction">LD ($DA15),A</td>
</tr>
<tr>
<td class="address-1"><span id="55910"></span>DA66</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55911"></span>DA67</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55912"></span>DA68</td>
<td class="instruction">LD A,($DA0E)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55822">DA0E</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55915"></span>DA6B</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#55021">D6ED</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55918"></span>DA6E</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55919"></span>
<div class="comments">
<div class="paragraph">
Handles state countdown.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55919"></span>DA6F</td>
<td class="instruction">LD DE,$D040</td>
<td class="comment-1" rowspan="2">Call <a href="54691.html">D5A3</a> with a callback to <a href="53303.html#53312">D040</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55922"></span>DA72</td>
<td class="instruction">CALL <a href="54691.html">$D5A3</a></td>
</tr>
<tr>
<td class="address-1"><span id="55925"></span>DA75</td>
<td class="instruction">LD A,($DA16)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55830">DA16</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55928"></span>DA78</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55929"></span>DA79</td>
<td class="instruction">LD ($DA16),A</td>
</tr>
<tr>
<td class="address-1"><span id="55932"></span>DA7C</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55933"></span>DA7D</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="4">Else write $01 to <a href="53967.html#54014">D2FE</a>, call <a href="55457.html">D8A1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55934"></span>DA7E</td>
<td class="instruction">LD ($D2FE),A</td>
</tr>
<tr>
<td class="address-1"><span id="55937"></span>DA81</td>
<td class="instruction">CALL <a href="55457.html">$D8A1</a></td>
</tr>
<tr>
<td class="address-1"><span id="55940"></span>DA84</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55941"></span>
<div class="comments">
<div class="paragraph">
This routine looks at the current character state and routes to the correct subroutine.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55941"></span>DA85</td>
<td class="instruction">LD HL,$DA11</td>
<td class="comment-1" rowspan="2"><span class="register">A</span>=<a href="55820.html#55825">DA11</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55944"></span>DA88</td>
<td class="instruction">LD A,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="55945"></span>DA89</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="9">Work out which routine to use based on the current state. <table class="default">
<tr>
<th colspan="1" rowspan="1"><span class="register">A</span></th>
<th colspan="1" rowspan="1">Routine</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$01</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55959">DA97</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$02</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#55975">DAA7</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$03</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#56000">DAC0</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$04</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#56016">DAD0</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">$05</td>
<td class="centre" colspan="1" rowspan="1"><a href="55820.html#56032">DAE0</a></td>
</tr>
</table></td>
</tr>
<tr>
<td class="address-1"><span id="55946"></span>DA8A</td>
<td class="instruction">JR Z,$DA97</td>
</tr>
<tr>
<td class="address-1"><span id="55948"></span>DA8C</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55949"></span>DA8D</td>
<td class="instruction">JR Z,$DAA7</td>
</tr>
<tr>
<td class="address-1"><span id="55951"></span>DA8F</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55952"></span>DA90</td>
<td class="instruction">JR Z,$DAC0</td>
</tr>
<tr>
<td class="address-1"><span id="55954"></span>DA92</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55955"></span>DA93</td>
<td class="instruction">JR Z,$DAD0</td>
</tr>
<tr>
<td class="address-1"><span id="55957"></span>DA95</td>
<td class="instruction">JR $DAE0</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55959"></span>
<div class="comments">
<div class="paragraph">
Handles state countdown.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55959"></span>DA97</td>
<td class="instruction">LD A,($DA12)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55826">DA12</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55962"></span>DA9A</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55963"></span>DA9B</td>
<td class="instruction">LD ($DA12),A</td>
</tr>
<tr>
<td class="address-1"><span id="55966"></span>DA9E</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55967"></span>DA9F</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55968"></span>DAA0</td>
<td class="instruction">LD A,($DA0F)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55823">DA0F</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55971"></span>DAA3</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#55021">D6ED</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55974"></span>DAA6</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="55975"></span>
<div class="comments">
<div class="paragraph">
Handles state countdown.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="55975"></span>DAA7</td>
<td class="instruction">LD A,($DA13)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55827">DA13</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55978"></span>DAAA</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="55979"></span>DAAB</td>
<td class="instruction">LD ($DA13),A</td>
</tr>
<tr>
<td class="address-1"><span id="55982"></span>DAAE</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="55983"></span>DAAF</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="55984"></span>DAB0</td>
<td class="instruction">LD A,($DA10)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55824">DA10</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55987"></span>DAB3</td>
<td class="instruction">CALL <a href="54884.html#55021">$D6ED</a></td>
<td class="comment-1" rowspan="1">Call <a href="54884.html#55021">D6ED</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="55990"></span>DAB6</td>
<td class="instruction">LD A,($DA0C)</td>
<td class="comment-1" rowspan="3">Return if <a href="55820.html">DA0C</a> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="55993"></span>DAB9</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="55994"></span>DABA</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="55995"></span>DABB</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="3">Else write $01 to <a href="53967.html#54014">D2FE</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="55996"></span>DABC</td>
<td class="instruction">LD ($D2FE),A</td>
</tr>
<tr>
<td class="address-1"><span id="55999"></span>DABF</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56000"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 4 countdown/ transition to door frame 3.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="56000"></span>DAC0</td>
<td class="instruction">LD A,($DA14)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55828">DA14</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="56003"></span>DAC3</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="56004"></span>DAC4</td>
<td class="instruction">LD ($DA14),A</td>
</tr>
<tr>
<td class="address-1"><span id="56007"></span>DAC7</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="56008"></span>DAC8</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="56009"></span>DAC9</td>
<td class="instruction">LD A,($DA10)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55824">DA10</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="56012"></span>DACC</td>
<td class="instruction">CALL <a href="54884.html#55007">$D6DF</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#55007">D6DF</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="56015"></span>DACF</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56016"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 3 countdown/ transition to door frame 2.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="56016"></span>DAD0</td>
<td class="instruction">LD A,($DA15)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55829">DA15</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="56019"></span>DAD3</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="56020"></span>DAD4</td>
<td class="instruction">LD ($DA15),A</td>
</tr>
<tr>
<td class="address-1"><span id="56023"></span>DAD7</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="56024"></span>DAD8</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Move onto next character state.</td>
</tr>
<tr>
<td class="address-1"><span id="56025"></span>DAD9</td>
<td class="instruction">LD A,($DA10)</td>
<td class="comment-1" rowspan="1">Grab the character frame index from <a href="55820.html#55824">DA10</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="56028"></span>DADC</td>
<td class="instruction">CALL <a href="54884.html#54993">$D6D1</a></td>
<td class="comment-1" rowspan="2">Call <a href="54884.html#54993">D6D1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="56031"></span>DADF</td>
<td class="instruction">RET</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56032"></span>
<div class="comments">
<div class="paragraph">
Handle door frame 2 countdown/ transition to door frame 1.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="56032"></span>DAE0</td>
<td class="instruction">LD A,($DA16)</td>
<td class="comment-1" rowspan="4">Decrease <a href="55820.html#55830">DA16</a> by one, return if result is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="56035"></span>DAE3</td>
<td class="instruction">DEC A</td>
</tr>
<tr>
<td class="address-1"><span id="56036"></span>DAE4</td>
<td class="instruction">LD ($DA16),A</td>
</tr>
<tr>
<td class="address-1"><span id="56039"></span>DAE7</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="56040"></span>DAE8</td>
<td class="instruction">CALL <a href="54884.html">$D664</a></td>
<td class="comment-1" rowspan="1">Call <a href="54884.html">D664</a> (i.e. no character/ door is shut).</td>
</tr>
<tr>
<td class="address-1"><span id="56043"></span>DAEB</td>
<td class="instruction">CALL <a href="55457.html">$D8A1</a></td>
<td class="comment-1" rowspan="2">Call <a href="55457.html">D8A1</a> and return.</td>
</tr>
<tr>
<td class="address-1"><span id="56046"></span>DAEE</td>
<td class="instruction">RET</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="55525.html">D8E5</a>
</td>
<td class="up">Up: <a href="../maps/all.html#55820">Map</a></td>
<td class="next">
Next: <a href="56047.html">DAEF</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; DINAMIC SOFTWARE 1985</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.4.</div>
</footer>
</body>
</html>